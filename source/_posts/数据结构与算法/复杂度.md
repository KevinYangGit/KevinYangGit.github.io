---
title: å¤æ‚åº¦
date: 2020-10-09 10:27:38
tags: æ•°æ®ç»“æ„ä¸ç®—æ³•
---

æ–æ³¢é‚£å¥‘æ•° & ç®—æ³•çš„è¯„ä¼° & æ—¶é—´å¤æ‚åº¦çš„ä¼°ç®— & å¤§Oè¡¨ç¤ºæ³• & æ–æ³¢é‚£å¥‘æ•°å¤æ‚åº¦åˆ†æ
<!-- more -->

# ç®—æ³•
[ç®—æ³•](https://baike.baidu.com/item/%E7%AE%97%E6%B3%95/209025?fr=aladdin)æ˜¯ç”¨äºè§£å†³ç‰¹å®šé—®é¢˜çš„ä¸€ç³»åˆ—çš„æ‰§è¡Œæ­¥éª¤ã€‚å¦‚ï¼š  
```
// è®¡ç®—aè·Ÿbçš„å’Œ
public static int plus(int a, int b) {
    return a + b;
}

// è®¡ç®—1+2+3+...+nçš„å’Œ
public static int sum(int n) {
    int result = 0;
    for (int i = 1; i <= n; i++) {
        result += i;
    }
    return result;
}
```

# ä¾‹ä¸€
ä½¿ç”¨ä¸åŒçš„ç®—æ³•è§£å†³åŒä¸€ä¸ªé—®é¢˜ï¼Œæ•ˆç‡å¯èƒ½ç›¸å·®éå¸¸å¤§ã€‚å¦‚ï¼šæ±‚ç¬¬nä¸ªæ–æ³¢é‚£å¥‘æ•°ã€‚

ğŸ‘‰ æ–æ³¢é‚£å¥‘æ•°åˆ—åˆç§°é»„é‡‘åˆ†å‰²æ•°åˆ—ï¼ŒæŒ‡çš„æ˜¯è¿™æ ·ä¸€ä¸ªæ•°åˆ—ï¼š0ã€1ã€1ã€2ã€3ã€5ã€8ã€13ã€21ã€34ã€â€¦â€¦ åœ¨æ•°å­¦ä¸Šï¼Œæ–æ³¢é‚£å¥‘æ•°åˆ—ä»¥å¦‚ä¸‹è¢«ä»¥é€’æ¨çš„æ–¹æ³•å®šä¹‰ï¼šF(0)=0ï¼ŒF(1)=1, F(n)=F(n - 1)+F(n - 2)ï¼ˆn â‰¥ 3ï¼Œn âˆˆ N*ï¼‰ã€‚

æ–¹å¼ä¸€ï¼š
```
public static int fib1(int n) {
    if (n <= 1) return n;
    return fib1(n - 1) + fib1(n - 2);
}

public static void main(String[] args) {
    System.out.println(fib1(1));
    System.out.println(fib1(2));
    System.out.println(fib1(3));
    System.out.println(fib1(4));
    System.out.println(fib1(64));
}
```

æ‰“å°ç»“æœï¼š
```
1
1
2
3
```

ä»æ‰“å°ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œç¬¬1ã€2ã€3ã€4ä¸ªæ–æ³¢é‚£å¥‘æ•°èƒ½å¤Ÿæ­£å¸¸æ‰“å°ï¼Œè€Œç¬¬64ä¸ªæ–æ³¢é‚£å¥‘æ•°å´æ— æ³•æ­£å¸¸æ‰“å°ã€‚

æ–¹å¼äºŒï¼š
```
/*
* ä¸‹æ ‡ï¼š0 1 2 3 4 5 6 7
* æ•°å€¼ï¼š0 1 1 2 3 5 8 13 ...
*/
public static int fib2(int n) {
    if (n <= 1) return n;
    
    int first = 0;
    int second = 1;
    for (int i = 0; i < n - 1; i++) {
        int sum = first + second;
        first = second;
        second = sum;
    }
    return second;
}

public static void main(String[] args) {
    System.out.println(fib2(64));
}
```

æ‰“å°ç»“æœï¼š
```
695895453
```

# ç®—æ³•çš„è¯„ä¼°
## äº‹åç»Ÿè®¡æ³•
å¦‚æœå•ä»æ‰§è¡Œæ•ˆç‡ä¸Šè¿›è¡Œè¯„ä¼°ï¼Œå¯ä»¥æ¯”è¾ƒä¸åŒç®—æ³•å¯¹åŒä¸€ç»„è¾“å…¥çš„æ‰§è¡Œå¤„ç†æ—¶é—´ï¼Œè¿™ç§æ–¹æ¡ˆä¹Ÿå«ä½œï¼šäº‹åç»Ÿè®¡æ³•ã€‚

* ä¼˜ç‚¹ï¼š
  ä»æ‰§è¡Œå¤„ç†æ—¶é—´å¯ä»¥ç›´è§‚çš„çœ‹å‡ºæ¥ç®—æ³•çš„ä¼˜åŠ£ï¼›
* ç¼ºç‚¹ï¼š
  æ‰§è¡Œæ—¶é—´ä¸¥é‡ä¾èµ–ç¡¬ä»¶ä»¥åŠè¿è¡Œæ—¶è‘›æ€»ä¸ç¡®å®šçš„ç¯å¢ƒå› ç´ ï¼›
  å¿…é¡»ç¼–å†™ç›¸åº”çš„æµ‹ç®—ä»£ç ï¼ˆTimesï¼‰ï¼›
  æµ‹è¯•æ•°æ®çš„é€‰æ‹©æ¯”è¾ƒéš¾ä¿è¯å…¬æ­£æ€§ï¼›

ä½¿ç”¨è‡ªå®šä¹‰å·¥å…· Times æŸ¥çœ‹ä¸¤ç§å®ç°æ–¹å¼çš„æ‰§è¡Œæ—¶é—´ï¼š
```
public static void main(String[] args) {
    int n = 44;

    Times.test("fib1", new Task() {
        public void execute() {
            System.out.println(fib1(n));
        }
    });

    Times.test("fib2", new Task() {
        public void execute() {
            System.out.println(fib2(n));
        }
    });
}
```

æ‰“å°ç»“æœï¼š
```
695895453
ã€fib1ã€‘
å¼€å§‹ï¼š17:58:32.163
-298632863
ç»“æŸï¼š17:59:19.046
è€—æ—¶ï¼š46.883ç§’
-------------------------------------
ã€fib2ã€‘
å¼€å§‹ï¼š17:59:19.047
-1109825406
ç»“æŸï¼š17:59:19.047
è€—æ—¶ï¼š0.0ç§’
-------------------------------------
```

ä»æ‰“å°ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œfib1 æ˜¯éå¸¸è€—æ—¶çš„ï¼Œè€Œ fib2 åœ¨åŒæ ·çš„æ•°æ®æ¡ä»¶ä¸‹ï¼Œæ‰§è¡Œæ—¶é—´åŸºæœ¬ä¸º0ã€‚

## ç®—æ³•çš„ä¼˜åŠ£
ä¸€èˆ¬ä»ä»¥ä¸‹ç»´åº¦è¯„ä¼°ç®—æ³•çš„ä¼˜åŠ£ï¼š  
* æ­£ç¡®æ€§ã€å¯è¯»æ€§ã€å¥å£®æ€§ï¼ˆå¯¹ä¸åˆç†è¾“å…¥çš„ååº”èƒ½åŠ›å’Œå¤„ç†èƒ½åŠ›ï¼‰ã€‚
* æ—¶é—´å¤æ‚åº¦ï¼ˆtime complexityï¼‰ï¼šä¼°ç®—ç¨‹åºæŒ‡ä»¤çš„æ‰§è¡Œæ¬¡æ•°ï¼ˆæ‰§è¡Œæ—¶é—´ï¼‰ã€‚
* ç©ºé—´å¤æ‚åº¦ï¼ˆspace complexityï¼‰ï¼šä¼°ç®—æ‰€éœ€å ç”¨çš„å­˜å‚¨ç©ºé—´ã€‚

# æ—¶é—´å¤æ‚åº¦
[æ—¶é—´å¤æ‚åº¦](https://baike.baidu.com/item/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E6%80%A7/5930669?fromtitle=%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6&fromid=1894057&fr=aladdin)ï¼šåœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæ—¶é—´å¤æ‚æ€§ï¼Œåˆç§°æ—¶é—´å¤æ‚åº¦ï¼Œç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå®šæ€§æè¿°è¯¥ç®—æ³•çš„è¿è¡Œæ—¶é—´ã€‚è¿™æ˜¯ä¸€ä¸ªä»£è¡¨ç®—æ³•è¾“å…¥å€¼çš„å­—ç¬¦ä¸²çš„é•¿åº¦çš„å‡½æ•°ã€‚æ—¶é—´å¤æ‚åº¦å¸¸ç”¨å¤§Oç¬¦å·è¡¨è¿°ï¼Œä¸åŒ…æ‹¬è¿™ä¸ªå‡½æ•°çš„ä½é˜¶é¡¹å’Œé¦–é¡¹ç³»æ•°ã€‚ä½¿ç”¨è¿™ç§æ–¹å¼æ—¶ï¼Œæ—¶é—´å¤æ‚åº¦å¯è¢«ç§°ä¸ºæ˜¯æ¸è¿‘çš„ï¼Œäº¦å³è€ƒå¯Ÿè¾“å…¥å€¼å¤§å°è¶‹è¿‘æ— ç©·æ—¶çš„æƒ…å†µã€‚

## å¤§Oè¡¨ç¤ºæ³•
ä¸€èˆ¬ç”¨å¤§Oè¡¨ç¤ºæ³•æ¥æè¿°å¤æ‚åº¦ï¼Œå®ƒè¡¨ç¤ºçš„æ˜¯æ•°æ®è§„æ¨¡ n å¯¹åº”çš„å¤æ‚åº¦ã€‚  

[å¤§Oè¡¨ç¤ºæ³•](https://baike.baidu.com/item/%E5%A4%A7O%E8%A1%A8%E7%A4%BA%E6%B3%95/1851162?fr=aladdin)ï¼šç®—æ³•çš„æ—¶é—´å¤æ‚åº¦é€šå¸¸ç”¨å¤§Oç¬¦å·è¡¨è¿°ï¼Œå®šä¹‰ä¸ºT[n] = O(f(n))ã€‚ç§°å‡½æ•°T(n)ä»¥f(n)ä¸ºç•Œæˆ–è€…ç§°T(n)å—é™äºf(n)ã€‚ å¦‚æœä¸€ä¸ªé—®é¢˜çš„è§„æ¨¡æ˜¯nï¼Œè§£è¿™ä¸€é—®é¢˜çš„æŸä¸€ç®—æ³•æ‰€éœ€è¦çš„æ—¶é—´ä¸ºT(n)ã€‚T(n)ç§°ä¸ºè¿™ä¸€ç®—æ³•çš„â€œæ—¶é—´å¤æ‚åº¦â€ã€‚å½“è¾“å…¥é‡né€æ¸åŠ å¤§æ—¶ï¼Œæ—¶é—´å¤æ‚åº¦çš„æé™æƒ…å½¢ç§°ä¸ºç®—æ³•çš„â€œæ¸è¿‘æ—¶é—´å¤æ‚åº¦â€ã€‚

ä½¿ç”¨å¤§Oè¡¨ç¤ºæ³•æ—¶ä¼šå¿½ç•¥å¸¸æ•°ã€ç³»æ•°ã€ä½é˜¶ï¼Œå¦‚ï¼š
```
9 >> O(1)
2*n + 3 >> O(n)
n^2 + 2n + 6 >> O(n^2)
4*n^3 + 3*n^2 + 22*n + 100 >> O(n^3)
```

ğŸ‘‰ æ³¨æ„ï¼šå¤§Oè¡¨ç¤ºæ³•ä»…ä»…æ˜¯ä¸€ç§ç²—ç•¥çš„åˆ†ææ¨¡å‹ï¼Œæ˜¯ä¸€ç§ä¼°ç®—ï¼Œèƒ½å¸®åŠ©æˆ‘ä»¬çŸ­æ—¶é—´å†…äº†è§£ä¸€ä¸ªç®—æ³•çš„æ‰§è¡Œæ•ˆç‡ã€‚

å¯¹æ•°ï¼š`8 = 2^3  ->  3 = log2(8)`ã€`16 = 2^4  ->  4 = log2(16)`

å¯¹æ•°é˜¶çš„ç»†èŠ‚ï¼š  
å¯¹æ•°é˜¶ä¸€èˆ¬çœç•¥åº•æ•°ï¼Œå¦‚ï¼š`log2(n) = log2(9) * log9(n)`ï¼Œçœç•¥å¸¸æ•°é¡¹åå°±æ˜¯ `log2(n) = log9(n)`ï¼Œæ‰€ä»¥ log2(n)ã€log9(n) ç»Ÿç§°ä¸º lognã€‚

ç¤ºä¾‹ï¼š
```
// O(1)
public static void test1(int n) {
    // 1
    if (n > 10) { 
        System.out.println("n > 10");
    } else if (n > 5) { // 2
        System.out.println("n > 5");
    } else {
        System.out.println("n <= 5"); 
    }
    
    // 1 + 4 + 4 + 4
    for (int i = 0; i < 4; i++) {
        System.out.println("test");
    }
}

// O(n)
public static void test2(int n) {
    // 1 + 3n
    for (int i = 0; i < n; i++) {
        System.out.println("test");
    }
}

// O(n)
public static void test3(int n) {
    // 1 + 2n + n * (1 + 3n)
    // 1 + 2n + n + 3n^2
    // 3n^2 + 3n + 1
    // O(n^2)
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < n; j++) {
            System.out.println("test");
        }
    }
}

// O(n)
public static void test4(int n) {
    // 1 + 2n + n * (1 + 45)
    // 1 + 2n + 46n
    // 48n + 1
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < 15; j++) {
            System.out.println("test");
        }
    }
}

/* å¯¹æ•°
 *  8 = 2^3  ->  3 = log2(8)
 * 16 = 2^4  ->  4 = log2(16)
 */

// O(logn)
public static void test5(int n) {
    // log2(n)
    while ((n = n / 2) > 0) {
        System.out.println("test");
    }
}

// O(logn + nlogn) -> O(logn)
public static void test6(int n) {
    // log5(n)
    while ((n = n / 5) > 0) {
        System.out.println("test");
    }
}

// O(nlogn)
public static void test7(int n) {
    // 1 + 2*log2(n) + log2(n) * (1 + 3n)
    // 1 + 3*log2(n) + 2 * nlog2(n)
    for (int i = 1; i < n; i = i * 2) {
        // 1 + 3n
        for (int j = 0; j < n; j++) {
            System.out.println("test");
        }
    }
}
```

## å¸¸è§çš„å¤æ‚åº¦  
O(1) < O(logn) < O(n) < O(nlogn) < O(n^2) < O(n^3) < O(2^n) < O(n!) < O(n^n)
![å¤æ‚åº¦01](å¤æ‚åº¦/å¤æ‚åº¦01.png)

ä½¿ç”¨[å‡½æ•°å›¾åƒç»˜åˆ¶å·¥å…·](https://zh.numberempire.com/graphingcalculator.php)ç»˜åˆ¶ `log(n),n,n*log(n),n^2,n^3,2^n`ï¼š

æ•°æ®è§„æ¨¡æ¯”è¾ƒå°æ—¶
![å¤æ‚åº¦02](å¤æ‚åº¦/å¤æ‚åº¦02.png)
æ•°æ®è§„æ¨¡æ¯”è¾ƒå¤§æ—¶
![å¤æ‚åº¦03](å¤æ‚åº¦/å¤æ‚åº¦03.png)

## å¤šä¸ªæ•°æ®è§„æ¨¡çš„æƒ…å†µ
```
// O(n + k)
public static void test(int n, int k) {
    for (int i = 0; i < n; i++) {
        System.out.println("test");
    }
    
    for (int i = 0; i < k; i++) {
        System.out.println("test");
    }
}
```

# ç©ºé—´å¤æ‚åº¦
```
// O(1)
public static void test1(int n) {
    if (n > 10) { 
        System.out.println("n > 10");
    } else if (n > 5) { // 2
        System.out.println("n > 5");
    } else {
        System.out.println("n <= 5"); 
    }
    
    // åªåˆå§‹åŒ–äº†ä¸€ä¸ª i
    for (int i = 0; i < 4; i++) {
        System.out.println("test");
    }
}

// O(1)
public static void test2(int n) {
    // åªåˆå§‹åŒ–äº†ä¸€ä¸ª i
    for (int i = 0; i < n; i++) {
        System.out.println("test");
    }
}

// O(n)
public static void test10(int n) {
    int a = 10;
    int b = 20;
    int c = a + b;
    int[] array = new int[n]; // ç”³è¯·å¤§å°ä¸ºnçš„ç©ºé—´
    for (int i = 0; i < array.length; i++) {
        System.out.println(array[i] + c);
    }
}
```

# ä¾‹ä¸€çš„æ—¶é—´å¤æ‚åº¦
```
// O(2^n)
public static int fib1(int n) {
    if (n <= 1) return n;
    return fib1(n - 1) + fib1(n - 2);
}

// O(n)
public static int fib2(int n) {
    if (n <= 1) return n;
    
    int first = 0;
    int second = 1;
    for (int i = 0; i < n - 1; i++) {
        int sum = first + second;
        first = second;
        second = sum;
    }
    return second;
}
```

åœ¨ fib1 ä¸­ï¼Œå¦‚æœ n = 5ï¼Œé‚£ä¹ˆç»“æœå°±æ˜¯ï¼š1 + 2 + 4 + 8 = 2^0 + 2^1 + 2^2 + 2^3 = 2^4 - 1ï¼Œå³ fib1(n) = 2^(n-1) - 1 = 0.5 * 2^n - 1ï¼Œæ‰€ä»¥ fib1(n) çš„å¤æ‚åº¦ä¸º O(2^n)ã€‚
![å¤æ‚åº¦04](å¤æ‚åº¦/å¤æ‚åº¦04.png)

ä½¿ç”¨[å‡½æ•°å›¾åƒç»˜åˆ¶å·¥å…·](https://zh.numberempire.com/graphingcalculator.php)ç»˜åˆ¶ `n,2^n`ï¼š
![å¤æ‚åº¦05](å¤æ‚åº¦/å¤æ‚åº¦05.png)

å¯ä»¥çœ‹å‡º fib1(n) å’Œ fib2(n) çš„å·®åˆ«å¾ˆå¤§ï¼Œå¦‚æœæœ‰ä¸€å°1GHzçš„æ™®é€šè®¡ç®—æœºï¼Œè¿ç®—é€Ÿåº¦ä¸º10^9æ¬¡æ¯ç§’ï¼Œè®© n = 64ï¼Œé‚£ä¹ˆï¼š  
O(n)å¤§çº¦è€—æ—¶6.4 * 10^-8ç§’  
O(2^n)å¤§çº¦è€—æ—¶584.94å¹´

fib2 è¡¥å……ä¸€ï¼š
```
// O(n)
public static int fib2(int N) {
    if (N <= 1) return N;

    int first = 0;
    int second = 1;
    while(N-- > 1) {
        second += first;
        first = second - first;
    }
    return second;
}
```

fib2 è¡¥å……äºŒï¼šä½¿ç”¨æ–æ³¢é‚£å¥‘å…¬å¼
![å¤æ‚åº¦06](å¤æ‚åº¦/å¤æ‚åº¦06.png)
```
// O(1)
public static int fib2(int N) {
    double c = Math.sqrt(5); // æ ¹å·5
    return (int)((Math.pow((1 + c) / 2, N) - Math.pow((1 - c) / 2, N)) / c);
}
```

ğŸ‘‰ æ³¨æ„ï¼šè¿™é‡Œæ˜¯å‡å®š sqrt å’Œ pow çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(1) çš„å‰æä¸‹ï¼Œå¾—å‡º fib3 çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ã€‚å®é™…æƒ…å†µè¿˜å¾—æ ¹æ®ä½¿ç”¨çš„ sqrt å’Œ pow çš„çœŸå®æ—¶é—´å¤æ‚åº¦è€Œå®šï¼Œæ¯”å¦‚æœ‰äº› pow å®ç°çš„çœŸå®å¤æ‚åº¦æ˜¯ O(logn)ã€‚

# ç®—æ³•çš„ä¼˜åŒ–æ–¹å‘

* ç”¨å°½é‡ç¨ç­‰å­˜å‚¨ç©ºé—´
* ç”¨å°½é‡å°‘çš„æ‰§è¡Œæ­¥éª¤
* ç©ºé—´æ¢æ—¶é—´
* æ—¶é—´æ¢ç©ºé—´

psï¼š  
[leetcode](https://leetcode-cn.com/)
[æ–æ³¢é‚£å¥‘æ•°](https://leetcode-cn.com/problems/fibonacci-number/)