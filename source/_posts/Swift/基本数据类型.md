---
title: åŸºæœ¬æ•°æ®ç±»å‹
date: 2022-09-30 10:51:22
tags: Swift
---

* [å¸¸é‡å’Œå˜é‡](#å¸¸é‡å’Œå˜é‡)

* [åŸºæœ¬æ•°æ®ç±»å‹](#åŸºæœ¬æ•°æ®ç±»å‹)

* [Tuple](#tuple)

* [Optional](#optional)

* [å­—ç¬¦ä¸²](#å­—ç¬¦ä¸²)

<!-- more -->

## å¸¸é‡å’Œå˜é‡

### å£°æ˜å¸¸é‡å’Œå˜é‡

ä½¿ç”¨å…³é”®å­— `let` æ¥å£°æ˜å¸¸é‡

```swift
let maxNumber = 10
```

ä½¿ç”¨å…³é”®å­— `var` æ¥å£°æ˜å˜é‡

```swift
var currentNumber = 0
```

å¯ä»¥åœ¨ä¸€è¡Œä¸­å£°æ˜å¤šä¸ªå˜é‡æˆ–å¸¸é‡ï¼Œç”¨é€—å·åˆ†éš”

```swift
var x = 0.0, y = 0.0, z = 0.0
```

ä¸å¯ä»¥ä¿®æ”¹å¸¸é‡
![BasicDataType01](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType01.png)

### ç±»å‹æ ‡æ³¨

ç±»å‹æ ‡æ³¨ï¼šå£°æ˜å˜é‡æˆ–å¸¸é‡çš„åŒæ—¶ï¼ŒæŒ‡å®šå…¶ç±»å‹ã€‚åœ¨å£°æ˜ä¸€ä¸ªå˜é‡æˆ–å¸¸é‡çš„æ—¶å€™ï¼Œé€šè¿‡æä¾›ç±»å‹æ ‡æ³¨ï¼Œæ¥æ˜ç¡®è¯¥å˜é‡æˆ–å¸¸é‡èƒ½å¤Ÿå‚¨å­˜å€¼çš„ç±»å‹ã€‚

æ·»åŠ ç±»å‹æ ‡æ³¨çš„æ–¹æ³•ï¼šåœ¨å˜é‡æˆ–å¸¸é‡çš„åå­—åè¾¹åŠ ä¸€ä¸ªå†’å·ï¼Œå†è·Ÿä¸€ä¸ªç©ºæ ¼ï¼Œæœ€ååŠ ä¸Šè¦ä½¿ç”¨çš„ç±»å‹åç§°ï¼ˆå£°æ˜å˜é‡æˆ–å¸¸é‡çš„è¦ç´ ï¼š**ç±»å‹ + å˜é‡å**ï¼‰

```swift
var name: String
```

å¯ä»¥åœ¨ä¸€è¡Œä¸­å®šä¹‰å¤šä¸ªå˜é‡ä¸ºç›¸åŒçš„ç±»å‹ï¼Œç”¨é€—å·åˆ†éš”ï¼Œåªè¦åœ¨æœ€åçš„å˜é‡åå­—åè¾¹åŠ ä¸Šç±»å‹æ ‡æ³¨

```swift
var name1, name2, name3: String
```

ä¸å¯ä»¥ç»™ String ç±»å‹çš„å˜é‡èµ‹å€¼ Int ç±»å‹çš„å€¼ï¼š
![BasicDataType02](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType02.png)

### å˜é‡å’Œå¸¸é‡å‘½å

å¸¸é‡å’Œå˜é‡çš„åå­—å‡ ä¹å¯ä»¥ä½¿ç”¨ä»»ä½•å­—ç¬¦ï¼ŒåŒ…æ‹¬ Unicode å­—ç¬¦ã€‚å¸¸é‡å’Œå˜é‡çš„åå­—ä¸èƒ½åŒ…å«ç©ºç™½å­—ç¬¦ã€æ•°å­¦ç¬¦å·ã€ç®­å¤´ã€ä¿ç•™çš„ï¼ˆæˆ–è€…æ— æ•ˆçš„ï¼‰Unicode ç ä½ã€è¿çº¿å’Œåˆ¶è¡¨ç¬¦ã€‚è™½ç„¶æ•°å­—å‡ ä¹å¯ä»¥ä½¿ç”¨åœ¨åå­—çš„ä»»ä½•ä½ç½®ï¼Œä½†æ˜¯ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚

```swift
let Ï€ = 3.14159
let ä½ å¥½ = "ä½ å¥½ä¸–ç•Œ"
let ğŸ¶ğŸ® = "dogcow"
```

### æ‰“å°å¸¸é‡å’Œå˜é‡

```swift
let ä½ å¥½ = "ä½ å¥½ä¸–ç•Œ"
print("æ¬¢è¿è¯­æ˜¯\(ä½ å¥½)")
```

æ‰“å°ç»“æœï¼š

```swift
æ¬¢è¿è¯­æ˜¯ä½ å¥½ä¸–ç•Œ
```

åœ¨Swiftä¸­ä½¿ç”¨`print(_:separator:terminator:)`ä½œä¸ºæ‰“å°æ–¹æ³•ã€‚`\()`æ˜¯å­—ç¬¦ä¸²æ’å€¼ï¼Œå¯ä»¥å®ç°å­—ç¬¦ä¸²çš„æ‹¼æ¥ã€‚

## åŸºæœ¬æ•°æ®ç±»å‹

### æ•´æ•°

Swift æä¾›äº† 8ï¼Œ16ï¼Œ32 å’Œ 64 ä½ç¼–ç çš„æœ‰ç¬¦å·å’Œæ— ç¬¦å·æ•´æ•°ï¼Œä¾‹å¦‚ 8 ä½æ— ç¬¦å·æ•´æ•°çš„ç±»å‹æ˜¯ `UInt8`ï¼Œ32 ä½æœ‰ç¬¦å·æ•´æ•°çš„ç±»å‹æ˜¯ `Int32`ã€‚Swift æä¾›äº†ä¸€ä¸ªé¢å¤–çš„æ•´æ•°ç±»å‹ï¼š`Int`ï¼Œå®ƒæ‹¥æœ‰ä¸å½“å‰å¹³å°çš„åŸç”Ÿå­—ç›¸åŒçš„é•¿åº¦ã€‚åŒæ—¶ Swift ä¹Ÿæä¾› `UInt` ç±»å‹ï¼Œæ¥è¡¨ç¤ºå¹³å°é•¿åº¦ç›¸å…³çš„æ— ç¬¦å·æ•´æ•°ã€‚**å»ºè®®åœ¨ç”¨åˆ°æ•´æ•°çš„åœ°æ–¹éƒ½æ˜¯ç”¨ `Int`**ã€‚

é€šè¿‡ `min` å’Œ `max` å±æ€§æ¥è®¿é—®æ¯ä¸ªæ•´æ•°ç±»å‹çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚

### æµ®ç‚¹ç±»å‹

* `Double`ï¼š64 ä½æµ®ç‚¹æ•°ï¼Œè‡³å°‘æœ‰ 15 ä½æ•°å­—çš„ç²¾åº¦ã€‚

* `Float`ï¼š32 ä½æµ®ç‚¹æ•°ï¼Œè‡³å°‘æœ‰ 6 ä½æ•°å­—çš„ç²¾åº¦ã€‚

åœ¨ä¸¤ç§ç±»å‹éƒ½å¯ä»¥çš„æƒ…å†µä¸‹ï¼Œæ¨èä½¿ç”¨ `Double` ç±»å‹ã€‚

### æ•°å€¼èŒƒå›´

![BasicDataType03](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType03.png)

### Bool

`Bool`ï¼š`true` å’Œ `false`ã€‚Swift çš„ç±»å‹å®‰å…¨æœºåˆ¶ä¼šé˜»æ­¢ç”¨ä¸€ä¸ªéå¸ƒå°”é‡çš„å€¼æ›¿æ¢æ‰ `Bool`ã€‚å¦‚ä¸‹å›¾ï¼Œä¸å¯ä»¥ç›´æ¥åˆ¤æ–­ä¸€ä¸ªå˜é‡ï¼Œè€Œæ˜¯éœ€è¦å†™æˆåˆ¤æ–­çš„æ–¹å¼ï¼ˆ`i == 1`ï¼‰
![BasicDataType04](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType04.png)

### ç±»å‹åˆ«å

ç±»å‹åˆ«åï¼šä¸ºå·²å­˜åœ¨ç±»å‹å®šä¹‰ä¸€ä¸ªå¯é€‰æ‹©çš„åå­—ã€‚å¯ä»¥é€šè¿‡å…³é”®å­— `typealias` å®šä¹‰ä¸€ä¸ªç±»å‹åˆ«åã€‚

å¦‚ä¸ºä¸€ä¸ªå·²å­˜åœ¨çš„ç±»å‹ï¼Œå®šä¹‰ä¸€ä¸ªåœ¨ä¸Šä¸‹æ–‡ä¸­çœ‹èµ·æ¥æ›´åˆé€‚æ›´å…·æœ‰è¡¨è¾¾æ€§çš„åå­—ï¼Œæ¥å¼•ç”¨è¿™ä¸ªå·²å­˜åœ¨çš„ç±»å‹ï¼š

```swift
typealias AudioSample = UInt8
let sample: AudioSample = 32
```

## Tuple

å…ƒç»„å®ç°äº†æŠŠå¤šä¸ªå€¼åˆå¹¶æˆä¸€ä¸ªå¤åˆå‹çš„å€¼ã€‚å…ƒç»„å†…çš„å€¼å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œè€Œä¸”å¯ä»¥ä¸å¿…æ˜¯åŒä¸€ç±»å‹ã€‚

### å…ƒç´ å‘½å

å…ƒç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ å¯ä»¥æŒ‡å®šå¯¹åº”çš„å…ƒç´ åç§°
![BasicDataType07](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType07.png)

å¦‚æœæ²¡æœ‰æŒ‡å®šåç§°çš„å…ƒç´ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹æ ‡çš„æ–¹å¼æ¥å¼•ç”¨
![BasicDataType06](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType06.png)

### Tuple ä¿®æ”¹

ç”¨ `var` å®šä¹‰çš„å…ƒç»„å°±æ˜¯å¯å˜å…ƒç»„ï¼Œ`let` å®šä¹‰çš„å°±æ˜¯ä¸å¯å˜å…ƒç»„ã€‚ä¸ç®¡æ˜¯å¯å˜è¿˜æ˜¯ä¸å¯å˜å…ƒç»„ï¼Œå…ƒç»„åœ¨åˆ›å»ºåå°±ä¸èƒ½å¢åŠ å’Œåˆ é™¤å…ƒç´ ã€‚

å¯ä»¥å¯¹å¯å˜å…ƒç»„çš„å…ƒç´ è¿›è¡Œä¿®æ”¹ï¼Œä½†æ˜¯ä¸èƒ½æ”¹å˜å…¶ç±»å‹ï¼š
![BasicDataType08](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType08.png)

`any` ç±»å‹å¯ä»¥æ”¹ä¸ºä»»ä½•ç±»å‹ï¼š
![BasicDataType09](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType09.png)

### Tuple åˆ†è§£

å°†ä¸€ä¸ªå…ƒç»„çš„å†…å®¹åˆ†è§£æˆå•ç‹¬çš„å¸¸é‡æˆ–å˜é‡ï¼š
![BasicDataType10](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType10.png)

å¦‚æœåªéœ€è¦ä½¿ç”¨å…¶ä¸­çš„ä¸€éƒ¨åˆ†æ•°æ®ï¼Œä¸éœ€è¦çš„æ•°æ®å¯ä»¥ç”¨ä¸‹åˆ’çº¿ï¼ˆ `_` ï¼‰ä»£æ›¿ï¼š
![BasicDataType11](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType11.png)

### ä½œä¸ºå‡½æ•°è¿”å›å€¼

å¯ä»¥ä½¿ç”¨ Tuple ä¸ºå‡½æ•°è¿”å›å¤šä¸ªå€¼ï¼Œè¿”å›å€¼çš„ Tuple å¯ä»¥åœ¨å‡½æ•°çš„è¿”å›ç±»å‹éƒ¨åˆ†è¢«å‘½åï¼š

```swift
func writeToFile(content: String) -> (errorCode: Int, errorMessage: String) {
    return (1, "æ²¡æœ‰æƒé™")
}
```

## Optional

* ä¸ºä»€ä¹ˆéœ€è¦ Optionalï¼Ÿ  
åœ¨ Objective-C é‡Œï¼Œ`nil` æ˜¯æ— ç±»å‹æŒ‡é’ˆï¼Œæ‰€æœ‰å¯¹è±¡å˜é‡éƒ½å¯ä»¥ä¸º `nil`ï¼Œä½†æ˜¯æ•°ç»„ã€å­—å…¸ã€é›†åˆç­‰ä¸å…è®¸æ”¾å…¥ `nil`ã€‚`nil` åªèƒ½ç”¨åœ¨å¯¹è±¡ä¸Šï¼Œè€Œåœ¨å…¶ä»–åœ°æ–¹åˆç”¨å…¶ä»–ç‰¹æ®Šå€¼è¡¨ç¤ºæŒ‡çš„ç¼ºå¤±ï¼Œä¾‹å¦‚ `NSNotFound`ã€‚

### Swift ä¸­çš„ Optional

* é€šè¿‡åœ¨å˜é‡åé¢åŠ  `?` è¡¨ç¤ºï¼š  
  **è¿™é‡Œæœ‰ä¸€ä¸ªå€¼ï¼Œå®ƒç­‰äº x**  
  **æˆ–è€…**  
  **è¿™é‡Œæ ¹æœ¬æ²¡æœ‰å€¼**  

åœ¨ Swift ä¸­ï¼Œ`nil` ä¸æ˜¯æŒ‡é’ˆï¼Œä»–æ˜¯å€¼ç¼ºå¤±çš„ä¸€ç§ç‰¹æ®Šç±»å‹ï¼Œä»»ä½•ç±»å‹çš„å¯é€‰é¡¹éƒ½å¯ä»¥è®¾ç½®æˆ `nil` è€Œä¸ä»…ä»…æ˜¯å¯¹è±¡ç±»å‹ã€‚

å¯ä»¥é€šè¿‡ç»™å¯é€‰å˜é‡èµ‹å€¼ä¸€ä¸ª `nil` æ¥å°†ä¹‹è®¾ç½®ä¸ºæ²¡æœ‰å€¼ï¼Œä½†æ˜¯ä¸å¯ä»¥ç»™ä¸€ä¸ª**éå¯é€‰å˜é‡**èµ‹å€¼ä¸€ä¸ª `nil`ï¼š
![BasicDataType12](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType12.png)

### Optional-if è¯­å¥ä»¥åŠå¼ºåˆ¶å±•å¼€

å¯é€‰é¡¹æ˜¯æ²¡æ³•ç›´æ¥ä½¿ç”¨çš„ï¼Œéœ€è¦ç”¨ `!` å±•å¼€ä¹‹åæ‰èƒ½ä½¿ç”¨ï¼š
![BasicDataType15](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType15.png)

ä¸å¯ä»¥åœ¨æ²¡æœ‰å±•å¼€çš„æƒ…å†µä¸‹ç›´æ¥ä½¿ç”¨ï¼š
![BasicDataType13](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType13.png)

æŠ¥é”™ä¿¡æ¯ï¼šç¼–è¯‘å™¨ä¸çŸ¥é“ str æ˜¯å¦æœ‰å€¼ï¼Œéœ€è¦ä½¿ç”¨ `!` å‘Šè¯‰ç¼–è¯‘å™¨ `str` ä¸€å®šæœ‰å€¼ã€‚
![BasicDataType14](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType14.png)

#### ä¸€ã€Optional-å¼ºåˆ¶å±•å¼€

ä½¿ç”¨ `!` æ¥è·å–ä¸€ä¸ªä¸å­˜åœ¨çš„å¯é€‰å€¼ä¼šå¯¼è‡´è¿è¡Œé”™è¯¯ï¼Œåœ¨ä½¿ç”¨ `!` å¼ºåˆ¶å±•å¼€ä¹‹å‰å¿…é¡»ç¡®ä¿å¯é€‰é¡¹ä¸­åŒ…å«ä¸€ä¸ªé `nil` çš„å€¼ã€‚

![BasicDataType16](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType16.png)

#### äºŒã€Optional-ç»‘å®š

ä½¿ç”¨å¯é€‰é¡¹ç»‘å®šæ¥åˆ¤æ–­å¯é€‰é¡¹æ˜¯å¦åŒ…å«å€¼ï¼Œå¦‚æœåŒ…å«å°±æŠŠå€¼èµ‹ç»™ä¸€ä¸ªä¸´æ—¶çš„å¸¸é‡æˆ–è€…å˜é‡ã€‚

![BasicDataType17](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType17.png)

å¯é€‰ç»‘å®šå¯ä»¥ä¸ `if` å’Œ `while` è¯­å¥é…åˆä½¿ç”¨æ¥æ£€æŸ¥å¯é€‰é¡¹å†…éƒ¨çš„å€¼ï¼Œå¹¶èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡æˆ–å¸¸é‡ï¼š
  
```swift
if let actualStr = str {
    // TODO
}
```

åŒä¸€ä¸ª `if` è¯­å¥ä¸­åŒ…å«å¤šä¸ªå¯é€‰é¡¹ç»‘å®šï¼Œç”¨é€—å·åˆ†éš”å³å¯ã€‚å¦‚æœä»»ä¸€å¯é€‰ç»‘å®šç»“æœæ˜¯ `nil` æˆ–è€…å¸ƒå°”å€¼ä¸º `false`ï¼Œé‚£ä¹ˆæ•´ä¸ª `if` åˆ¤æ–­ä¼šè¢«çœ‹åš `false`
  
```swift
if let actualStr = str, actualStr2 = str2 {
    // TOD
}
```

#### ä¸‰ã€Optional-éšå¼å±•å¼€

æœ‰äº›å¯é€‰é¡¹ä¸€æ—¦è¢«è®¾å®šå€¼ä¹‹åï¼Œå°±ä¼šä¸€ç›´æ‹¥æœ‰å€¼ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°±å¯ä»¥å»æ‰æ£€æŸ¥çš„éœ€æ±‚ï¼Œä¹Ÿä¸å¿…æ¯æ¬¡è®¿é—®çš„æ—¶å€™éƒ½è¿›è¡Œå±•å¼€ã€‚

é€šè¿‡åœ¨å£°æ˜çš„ç±»å‹åè¾¹æ·»åŠ ä¸€ä¸ªå¹å·ï¼ˆ`String!`ï¼‰è€Œéé—®å·ï¼ˆ`String?`ï¼‰æ¥ä¹¦å†™éšå¼å±•å¼€å¯é€‰é¡¹ã€‚éšå¼å±•å¼€å¯é€‰é¡¹ä¸»è¦è¢«ç”¨åœ¨ Swift ç±»çš„åˆå§‹åŒ–è¿‡ç¨‹ä¸­ã€‚
![BasicDataType18](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType18.png)

#### å››ã€Optional-å¯é€‰é“¾

å¯é€‰é¡¹åé¢åŠ é—®å·ï¼Œå¦‚æœå¯é€‰é¡¹ä¸ä¸º `nil`ï¼Œ**è¿”å›ä¸€ä¸ªå¯é€‰é¡¹ç»“æœ**ï¼Œå¦åˆ™è¿”å› `nil`ã€‚

å¦‚ count å°±æ˜¯ str?.count è¿”å›çš„å¯é€‰é¡¹ç»“æœã€‚å› ä¸ºç³»ç»Ÿä¸ç¡®å®šå¯é€‰é¡¹ count æ˜¯å¦æœ‰å€¼ï¼Œæ‰€ä»¥ä½¿ç”¨æ—¶éœ€è¦å…ˆå±•å¼€ã€‚æ­¤å¤„å…ˆç¡®å®šäº† count æœ‰å€¼åï¼Œä½¿ç”¨äº†å¼ºåˆ¶å±•å¼€ï¼š
![BasicDataType21](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType21.png)

å¦‚æœæ²¡æœ‰å±•å¼€ç›´æ¥ä½¿ç”¨ï¼Œç³»ç»Ÿä¼šå› ä¸ºä¸ç¡®å®š count æ˜¯å¦æœ‰å€¼è€ŒæŠ¥é”™ï¼š
![BasicDataType19](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType19.png)

æŠ¥é”™ä¿¡æ¯ï¼šcount æ˜¯ä¸€ä¸ªå¯é€‰é¡¹ï¼Œæ— æ³•ç¡®å®šæ˜¯å¦æœ‰å€¼ã€‚
![BasicDataType20](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType20.png)

### Optional-å®ç°æ¢ç©¶

Optional å…¶å®æ˜¯æ ‡å‡†åº“é‡Œçš„ä¸€ä¸ªæšä¸¾ï¼ˆ`enum`ï¼‰ç±»å‹ï¼ŒOptional æ˜¯ç”¨æ ‡å‡†åº“å®ç°è¯­è¨€ç‰¹æ€§çš„å…¸å‹ã€‚

å¯ä»¥ä½¿ç”¨ `Optional<String>` ä»£æ›¿ç¬¦å· `?` å®šä¹‰å¯é€‰å€¼å˜é‡ï¼š
![BasicDataType23](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType23.png)

Optional çš„å®ç°ï¼š

* `Optional.none` å°±æ˜¯ nil

* `Optional.some` åˆ™åŒ…è£…äº†å®é™…çš„å€¼

![BasicDataType22](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType22.png)

æ³›å‹å±æ€§ `unsafelyUnwrapped` å°±æ˜¯ç¬¦å·`!`ï¼š

```swift
/// The wrapped value of this instance, unwrapped without checking whether
/// the instance is `nil`.
///
/// The `unsafelyUnwrapped` property provides the same value as the forced
/// unwrap operator (postfix `!`). However, in optimized builds (`-O`), no
/// check is performed to ensure that the current instance actually has a
/// value. Accessing this property in the case of a `nil` value is a serious
/// programming error and could lead to undefined behavior or a runtime
/// error.
///
/// In debug builds (`-Onone`), the `unsafelyUnwrapped` property has the same
/// behavior as using the postfix `!` operator and triggers a runtime error
/// if the instance is `nil`.
///
/// The `unsafelyUnwrapped` property is recommended over calling the
/// `unsafeBitCast(_:)` function because the property is more restrictive
/// and because accessing the property still performs checking in debug
/// builds.
///
/// - Warning: This property trades safety for performance.  Use
///   `unsafelyUnwrapped` only when you are confident that this instance
///   will never be equal to `nil` and only after you've tried using the
///   postfix `!` operator.
@inlinable public var unsafelyUnwrapped: Wrapped { get }
```

ç†è®ºä¸Šå¯ä»¥ç›´æ¥è°ƒç”¨ `unsafelyUnwrapped` è·å–å¯é€‰é¡¹çš„å€¼ï¼ˆ`!`ï¼‰
![BasicDataType24](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType24.png)

## å­—ç¬¦ä¸²

### åˆå§‹åŒ–ç©ºä¸²

1ã€å­—é¢é‡

```swift
var emptyString = ""
```

2ã€åˆå§‹åŒ–å™¨è¯­æ³•

```swift
var anotherEmptyString = String()
```

`isEmpty` æ£€æŸ¥æ˜¯å¦ä¸ºç©ºä¸²

```swift
if emptyString.isEmpty {
    print("Nothing to see here")
}
```

### å­—é¢é‡

å­—ç¬¦ä¸²å­—é¢é‡æ˜¯è¢«åŒå¼•å·ï¼ˆ`""`ï¼‰åŒ…è£¹çš„å›ºå®šé¡ºåºæ–‡æœ¬å­—ç¬¦ï¼ŒSwift ä¼šä¸º `str` å¸¸é‡æ¨æ–­ç±»å‹ä¸º `String` ğŸ‘‡

```swift
let str = "some string"
```

#### å¤šè¡Œå­—é¢é‡

å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡æ˜¯ç”¨ä¸‰ä¸ªåŒå¼•å·å¼•èµ·æ¥çš„ä¸€ç³»åˆ—å­—ç¬¦

```swift
let str = """
abc
"""
```

#### å¤šè¡Œå­—é¢é‡åŒ…å«æ¢è¡Œ

å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡æŠŠæ‰€æœ‰è¡ŒåŒ…æ‹¬åœ¨å¼•å·å†…ï¼Œå¼€å§‹å’Œç»“æŸé»˜è®¤ä¸ä¼šæœ‰æ¢è¡Œç¬¦ã€‚å½“ä»£ç ä¸­åœ¨å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡é‡Œé¢åŒ…å«äº†æ¢è¡Œï¼Œé‚£ä¸ªæ¢è¡Œç¬¦åŒæ ·ä¼šæˆä¸ºå­—ç¬¦ä¸²é‡Œçš„å€¼ã€‚

å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡ï¼ŒåŒ…å«æ¢è¡Œï¼š

```swift
let string = """
In the Southern Hemisphere,
the end of September means a warm climate and the approaching of summer.

For this southern right whale off the coast of Argentina,
that means migrating south,
heading to Antarctica to feed.

The Southern Right Whale is a subspecies of the Right Whale that inhabits the ocean south of the equator,
feeds on krill on the surface of the sea,
and feeds through flocks of krill with their mouths open.
"""

print(string)
```

æ‰“å°ç»“æœï¼š

```swift
In the Southern Hemisphere,
the end of September means a warm climate and the approaching of summer.

For this southern right whale off the coast of Argentina,
that means migrating south,
heading to Antarctica to feed.

The Southern Right Whale is a subspecies of the Right Whale that inhabits the ocean south of the equator,
feeds on krill on the surface of the sea,
and feeds through flocks of krill with their mouths open.
```

#### å¤šè¡Œå­—é¢é‡ä¸åŒ…å«æ¢è¡Œ

å¦‚æœæƒ³è¦ä½¿ç”¨æ¢è¡Œç¬¦æ¥è®©ä»£ç æ˜“è¯»ï¼Œå´ä¸æƒ³è®©æ¢è¡Œç¬¦æˆä¸ºå­—ç¬¦ä¸²çš„å€¼ï¼Œé‚£å°±åœ¨é‚£äº›è¡Œçš„æœ«å°¾ä½¿ç”¨åæ–œæ `\`

```swift
let string = """
In the Southern Hemisphere,\
the end of September means a warm climate and the approaching of summer.

For this southern right whale off the coast of Argentina,\
that means migrating south,\
heading to Antarctica to feed.

The Southern Right Whale is a subspecies of the Right Whale that inhabits the ocean south of the equator,\
feeds on krill on the surface of the sea,\
and feeds through flocks of krill with their mouths open.
"""

print(string)
```

æ‰“å°ç»“æœï¼š

```swift
In the Southern Hemisphere,the end of September means a warm climate and the approaching of summer.

For this southern right whale off the coast of Argentina,that means migrating south,heading to Antarctica to feed.

The Southern Right Whale is a subspecies of the Right Whale that inhabits the ocean south of the equator,feeds on krill on the surface of the sea,and feeds through flocks of krill with their mouths open.
```

* å¦‚æœä½ åœ¨æŸè¡Œçš„ç©ºæ ¼è¶…è¿‡äº†ç»“æŸçš„åŒå¼•å·ï¼ˆ`"""`ï¼‰ï¼Œé‚£ä¹ˆè¿™äº›ç©ºæ ¼ä¼šè¢«åŒ…å«è¿›å­—ç¬¦ä¸²

![BasicDataType25](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType25.png)

#### å¤šè¡Œå­—é¢é‡åŒ…å«ä»£ç ç¼©è¿›

è¦è®©å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡èµ·å§‹æˆ–ç»“æŸäºæ¢è¡Œï¼Œå°±åœ¨ç¬¬ä¸€æˆ–æœ€åä¸€è¡Œå†™ä¸€ä¸ªç©ºè¡Œã€‚

å¤šè¡Œå­—ç¬¦ä¸²å¯ä»¥ç¼©è¿›å·²åŒ¹é…å‘¨å›´çš„ä»£ç ã€‚åŒå¼•å·ï¼ˆ`"""`ï¼‰å‰çš„ç©ºæ ¼ä¼šå‘Šè¯‰ Swift å…¶ä»–è¡Œå‰åº”è¯¥æœ‰å¤šå°‘ç©ºç™½æ˜¯éœ€è¦å¿½ç•¥çš„ã€‚

å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¸¦æœ‰ä»£ç ç¼©è¿›ï¼Œåœ¨èµ·å§‹å’Œç»“æŸæ¢è¡Œï¼š

```swift
    let string = """

        In the Southern Hemisphere,\
    the end of September means a warm climate and the approaching of summer.

        For this southern right whale off the coast of Argentina,\
    that means migrating south,\
    heading to Antarctica to feed.

    The Southern Right Whale is a subspecies of the Right Whale that inhabits the ocean south of the equator,\
    feeds on krill on the surface of the sea,\
    and feeds through flocks of krill with their mouths open.

    """
```

æ‰“å°ç»“æœï¼š

```swift

    In the Southern Hemisphere,the end of September means a warm climate and the approaching of summer.

    For this southern right whale off the coast of Argentina,that means migrating south,heading to Antarctica to feed.

The Southern Right Whale is a subspecies of the Right Whale that inhabits the ocean south of the equator,feeds on krill on the surface of the sea,and feeds through flocks of krill with their mouths open.

```

#### å­—ç¬¦ä¸²é‡Œçš„ç‰¹æ®Šå­—ç¬¦

* è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ `\0`ï¼ˆç©ºå­—ç¬¦ï¼‰ï¼Œ`\\`ï¼ˆåæ–œæ ï¼‰ï¼Œ`\t`ï¼ˆæ°´å¹³åˆ¶è¡¨ç¬¦ï¼‰ï¼Œ`\n`ï¼ˆæ¢è¡Œç¬¦ï¼‰ï¼Œ`\r`ï¼ˆå›è½¦ç¬¦ï¼‰ï¼Œ`\"`ï¼ˆåŒå¼•å·ï¼‰ä»¥åŠ`\'`ï¼ˆå•å¼•å·ï¼‰

* ä»»æ„çš„ Unicode æ ‡é‡ï¼Œå†™ä½œ `\u{n}`ï¼Œn æ˜¯ä¸€ä¸ª 1-8 ä½çš„16è¿›åˆ¶æ•°å­—ï¼Œå…¶å€¼æ˜¯åˆæ³• Unicode å€¼

* åœ¨å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡ä¸­åŒ…å«åŒå¼•å· `"` ä¸éœ€è½¬ä¹‰ï¼Œè¦åœ¨å¤šè¡Œå­—ç¬¦ä¸²ä¸­åŒ…å«æ–‡æœ¬ `"""`ï¼Œè½¬ä¹‰è‡³å°‘ä¸€ä¸ªåŒå¼•å·

```swift
let string = """
""
""\"
"""
print(string)
```

æ‰“å°ç»“æœï¼š

```swift
""
"""
```

![BasicDataType26](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType26.png)

#### æ‰©å±•å­—ç¬¦ä¸²åˆ†éš”ç¬¦ï¼ˆRaw Stringï¼‰

* åœ¨å­—ç¬¦ä¸²å­—é¢é‡ä¸­æ”¾ç½®æ‰©å±•åˆ†éš”ç¬¦ï¼Œä½¿å­—ç¬¦ä¸²ä¸­åŒ…å«çš„ç‰¹æ®Šå­—ç¬¦ä¸ç”Ÿæ•ˆï¼Œå¯ä»¥æŠŠå­—ç¬¦ä¸²æ”¾åœ¨åŒå¼•å·ï¼ˆ`"`ï¼‰å†…å¹¶ç”±äº•å·ï¼ˆ`#`ï¼‰åŒ…è£¹

* å¦‚æœå­—ç¬¦ä¸²é‡Œæœ‰ `#` åˆ™é¦–å°¾éœ€è¦ä¸¤ä¸ªäº•å· `##`

* å¦‚æœéœ€è¦å­—ç¬¦ä¸²ä¸­æŸä¸ªç‰¹æ®Šç¬¦å·çš„æ•ˆæœï¼Œè¦ä½¿ç”¨ä¸é¦–å°¾äº•å·æ•°é‡ç›¸åŒçš„äº•å·ï¼Œå¹¶åœ¨äº•å·å‰é¢å†™è½¬ä¹‰ç¬¦å·ï¼ˆ`\`ï¼‰ï¼Œå¦‚ `str2`

```swift
let str = #"Line 1\nLine 2 "#
let str1 = #"Line 3\#nLine 4"#
let str2 = ###"Line 5\###nLine 6"###
print(str)
print(str1)
print(str2)
```

æ‰“å°ç»“æœï¼š

```swift
Line 1\nLine 2 
Line 3
Line 4
Line 5
Line 6
```

### å­—ç¬¦ä¸²-æ“ä½œ

#### å­—ç¬¦ä¸²çš„å¯å˜æ€§

* `var` æŒ‡å®šçš„å¯ä»¥ä¿®æ”¹

* `let` æŒ‡å®šçš„ä¸å¯ä»¥ä¿®æ”¹

![BasicDataType27](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType27.png)

å¯¹æ¯” Objective-Cï¼ˆ`NSString` å’Œ `NSMutableString`ï¼‰ã€‚

#### å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹

`String` å€¼åœ¨ä¼ é€’ç»™æ–¹æ³•æˆ–è€…å‡½æ•°çš„æ—¶å€™ä¼šè¢«å¤åˆ¶è¿‡å»ï¼Œèµ‹å€¼ç»™å¸¸é‡æˆ–è€…å˜é‡çš„æ—¶å€™ä¹Ÿæ˜¯ä¸€æ ·ã€‚

Swift ç¼–è¯‘å™¨ä¼˜åŒ–äº†å­—ç¬¦ä¸²ä½¿ç”¨çš„èµ„æºï¼Œå®é™…ä¸Šæ‹·è´åªä¼šåœ¨ç¡®å®éœ€è¦çš„æ—¶å€™æ‰è¿›è¡Œã€‚
![BasicDataType28](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType28.png)

#### æ“ä½œå­—ç¬¦

for-in å¾ªç¯éå† String ä¸­çš„æ¯ä¸€ä¸ªç‹¬ç«‹çš„ Characterï¼ŒString å€¼å¯ä»¥é€šè¿‡ä¼ å…¥ Character æ•°ç»„æ¥æ„é€ ã€‚
![BasicDataType29](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType29.png)

#### å­—ç¬¦ä¸²æ‹¼æ¥

1ã€ä½¿ç”¨åŠ è¿ç®—ç¬¦ `+` åˆ›å»ºæ–°å­—ç¬¦ä¸²

```swift
var string = "1" + "2"
print(string) // 12
```

2ã€ä½¿ç”¨åŠ èµ‹å€¼ç¬¦å· `+=` åœ¨å·²ç»å­˜åœ¨çš„ String å€¼æœ«å°¾è¿½åŠ ä¸€ä¸ª String å€¼

```swift
var string = "1" + "2"
string += "3"
print(string) // 123
```

3ã€ä½¿ç”¨ String ç±»å‹çš„ `append()` æ–¹æ³•æ¥å¯ä»¥ç»™ä¸€ä¸ª String å˜é‡çš„æœ«å°¾è¿½åŠ  Character å€¼

```swift
var string = "1" + "2"
string.append(contentsOf: "3")
print(string) // 123
```

#### å­—ç¬¦ä¸²æ’å€¼

å­—ç¬¦ä¸²æ’å€¼æ˜¯ä¸€ç§ä»æ··åˆå¸¸é‡ã€å˜é‡ã€å­—é¢é‡å’Œè¡¨è¾¾å¼çš„å­—ç¬¦ä¸²å­—é¢é‡æ„é€ æ–° String å€¼çš„æ–¹æ³•ã€‚

ä½¿ç”¨æ–¹æ³•ï¼šæ¯ä¸€ä¸ªæ’å…¥åˆ°å­—ç¬¦ä¸²å­—é¢é‡çš„å…ƒç´ éƒ½è¦è¢«ä¸€å¯¹åœ†æ‹¬å·åŒ…è£¹ï¼Œç„¶åä½¿ç”¨åæ–œæ å‰ç¼€

```swift
let str1 = "world"
let str2 = "Hello \(str1)"
```

`\()` ç±»ä¼¼äº `NSString` çš„ `stringWithFormat:` æ–¹æ³•ï¼Œä½†æ˜¯æ›´åŠ ç®€ä¾¿ï¼Œæ›´å¼ºå¤§ï¼š
![BasicDataType30](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType30.png)

* å¯ä»¥åœ¨æ‰©å±•å­—ç¬¦ä¸²åˆ†éš”ç¬¦ä¸­åˆ›å»ºä¸€ä¸ªåŒ…å«åœ¨å…¶ä»–æƒ…å†µä¸‹ä¼šè¢«å½“ä½œå­—ç¬¦ä¸²æ’å€¼çš„å­—ç¬¦ï¼Œè¦åœ¨ä½¿ç”¨æ‰©å±•åˆ†éš”ç¬¦çš„å­—ç¬¦ä¸²ä¸­ä½¿ç”¨å­—ç¬¦ä¸²æ’å€¼ï¼Œåœ¨åæ–œæ åä½¿ç”¨åŒ¹é…é¦–ä½äº•å·æ•°é‡çš„äº•å·ï¼š
![BasicDataType31](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType31.png)

### å­—ç¬¦ä¸²-è®¿é—®å’Œä¿®æ”¹

#### å­—ç¬¦ä¸²ç´¢å¼•

æ¯ä¸€ä¸ª String å€¼éƒ½æœ‰ç›¸å…³çš„ç´¢å¼•ç±»å‹ `String.index`ï¼Œå®ƒç›¸å½“äºæ¯ä¸ª Character åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®ã€‚

* `startIndex` å±æ€§ç”¨æ¥è®¿é—® String çš„ç¬¬ä¸€ä¸ª Character çš„ä½ç½®ã€‚
* `endIndex` å±æ€§å°±æ˜¯ String ä¸­æœ€åä¸€ä¸ªå­—ç¬¦åçš„ä½ç½®ã€‚

`endIndex` å±æ€§å¹¶ä¸æ˜¯å­—ç¬¦ä¸²ä¸‹æ ‡è„šæœ¬çš„åˆæ³•å®é™…å‚æ•°ã€‚å¦‚æœ String ä¸ºç©ºï¼Œåˆ™ `startIndex` ä¸ `endIndex` ç›¸ç­‰ã€‚
![BasicDataType32](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType32.png)

`Index` æ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œå¹¶ä¸èƒ½åƒæ•°ç»„é‚£æ ·ï¼Œä½¿ç”¨æ•°å­—è®¿é—®å¯¹åº”ä¸‹æ ‡ä¸‹çš„å­—ç¬¦ï¼š

```swift
/// A position of a character or code unit in a string.
@frozen public struct Index : Sendable {
}
```

![BasicDataType33](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType33.png)

* ä½¿ç”¨ `index(before:)` å’Œ `index(after:)` æ–¹æ³•æ¥è®¿é—®ç»™å®šç´¢å¼•çš„å‰å

* è¦è®¿é—®ç»™å®šç´¢å¼•æ›´è¿œçš„ç´¢å¼•ï¼Œå¯ä»¥ä½¿ç”¨ `index(_:offsetBy:)`

* ä½¿ç”¨ `indices` å±æ€§æ¥è®¿é—®å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦çš„ç´¢å¼•

![BasicDataType34](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType34.png)

#### æ’å…¥

* `insert(_:at:)`ï¼šæ’å…¥å­—ç¬¦ã€‚

* `insert(contentsOf:at:)`ï¼šæ’å…¥å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å†…å®¹åˆ°ç‰¹å®šçš„ç´¢å¼•ã€‚

![BasicDataType35](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType35.png)

#### åˆ é™¤

* `remove(at:)`ï¼šç§»é™¤å­—ç¬¦ã€‚

* `removeSubrange(_:)`ï¼šç§»é™¤ä¸€å°æ®µç‰¹å®šèŒƒå›´çš„å­—ç¬¦ä¸²ã€‚

![BasicDataType36](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType36.png)

### å­—ç¬¦ä¸²-å­ä¸²å’Œå­—ç¬¦ä¸²æ¯”è¾ƒ

#### å­å­—ç¬¦ä¸²

ä½¿ç”¨ä¸‹æ ‡æˆ–è€…ç±»ä¼¼ `prefix(_:)` çš„æ–¹æ³•å¾—åˆ°çš„å­å­—ç¬¦ä¸²æ˜¯ `Substring` ç±»å‹ï¼ŒSubstring æ‹¥æœ‰ String çš„å¤§éƒ¨åˆ†æ–¹æ³•ã€‚Substring å¯ä»¥é€šè¿‡ `String()` æ–¹æ³•è½¬æˆ String ç±»å‹ã€‚

![BasicDataType37](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType37.png)

å­å­—ç¬¦ä¸²é‡ç”¨ä¸€éƒ¨åˆ†åŸå­—ç¬¦ä¸²çš„å†…å­˜ï¼Œä¿®æ”¹å­—ç¬¦ä¸²æˆ–è€…å­å­—ç¬¦ä¸²ä¹‹å‰éƒ½ä¸éœ€è¦èŠ±è´¹æ‹·è´å†…å­˜çš„ä»£ä»·ã€‚
![BasicDataType38](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType38.png)

String å’Œ Substring éƒ½éµå¾ª StringProtocol åè®®ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒåŸºæœ¬ä¸Šèƒ½å¾ˆæ–¹ä¾¿åœ°å…¼å®¹æ‰€æœ‰æ¥å— StringProtocol å€¼çš„å­—ç¬¦ä¸²æ“ä½œå‡½æ•°ã€‚


#### å­—ç¬¦ä¸²æ¯”è¾ƒ

* `==`å’Œ`!=`ï¼šå­—ç¬¦ä¸²å’Œå­—ç¬¦ç›¸ç­‰æ€§

* `hasPrefix(_:)`ï¼šå‰ç¼€ç›¸ç­‰æ€§

* `hasSuffix(_:)`ï¼šåç¼€ç›¸ç­‰æ€§

![BasicDataType39](åŸºæœ¬æ•°æ®ç±»å‹/BasicDataType39.png)
